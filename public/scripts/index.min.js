"use strict";function bytesToSize(i){if(0===i)return"0 B";var e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(i)/Math.log(1e3));return(i/Math.pow(1e3,s)).toPrecision(3)+" "+e[s]}$(document).ready(function(){$("#input2").filer({limit:10,maxSize:3,extensions:null,changeInput:'<div class="jFiler-input-dragDrop"><div class="jFiler-input-inner"><div class="jFiler-input-icon"><i class="icon-jfi-cloud-up-o"></i></div><div class="jFiler-input-text"><h3>将文件拖动到此处</h3> <span style="display:inline-block; margin: 15px 0">或者</span></div><a class="jFiler-input-choose-btn blue">选择文件上传</a></div></div>',showThumbs:!0,appendTo:null,theme:"dragdropbox",templates:{box:'<ul class="jFiler-item-list"></ul>',item:'<li class="jFiler-item">                          <div class="jFiler-item-container">                              <div class="jFiler-item-inner">                                  <div class="jFiler-item-thumb">                                      <div class="jFiler-item-status"></div>                                      <div class="jFiler-item-info">                                          <span class="jFiler-item-title"><b title="{{fi-name}}">{{fi-name | limitTo: 25}}</b></span>                                      </div>                                      {{fi-image}}                                  </div>                                  <div class="jFiler-item-assets jFiler-row">                                      <ul class="list-inline pull-left">                                          <li>{{fi-progressBar}}</li>                                      </ul>                                      <ul class="list-inline pull-right">                                          <li><a class="icon-jfi-paperclip"></a></li>                                          <li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li>                                      </ul>                                  </div>                              </div>                          </div>                      </li>',itemAppend:'<li class="jFiler-item">                          <div class="jFiler-item-container">                              <div class="jFiler-item-inner">                                  <div class="jFiler-item-thumb">                                      <div class="jFiler-item-status"></div>                                      <div class="jFiler-item-info">                                          <span class="jFiler-item-title"><b title="{{fi-name}}">{{fi-name | limitTo: 25}}</b></span>                                      </div>                                      {{fi-image}}                                  </div>                                  <div class="jFiler-item-assets jFiler-row">                                      <ul class="list-inline pull-left">                                          <span class="jFiler-item-others">{{fi-icon}} {{fi-size2}}</span>                                      </ul>                                      <ul class="list-inline pull-right">                                          <li><a class="icon-jfi-paperclip"></a></li>                                          <li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li>                                      </ul>                                  </div>                              </div>                          </div>                      </li>',progressBar:'<div class="bar"></div>',itemAppendToEnd:!1,removeConfirmation:!1,_selectors:{list:".jFiler-item-list",item:".jFiler-item",progressBar:".bar",remove:".jFiler-item-trash-action"}},uploadFile:{url:"/api/uploader",data:{},type:"POST",enctype:"multipart/form-data",beforeSend:function(){},success:function(i,e){i.data&&e.attr("data-info",JSON.stringify(i.data));var s=e.find(".jFiler-jProgressBar").parent();e.find(".jFiler-jProgressBar").fadeOut("slow",function(){$('<div class="jFiler-item-others text-success"><i class="icon-jfi-check-circle"></i> Success  '+bytesToSize(i.data["x:size"])+"</div>").hide().appendTo(s).fadeIn("slow")}),e.find(".jFiler-item-container").attr("id",i.data.hash+"1"),e.find(".jFiler-item-container").attr("data-clipboard-text",i.data.url),new Clipboard("#"+i.data.hash+"1").on("success",function(i){showAlert("success","地址复制成功!"),i.clearSelection()}),e.find(".icon-jfi-paperclip").attr("id",i.data.hash),e.find(".icon-jfi-paperclip").attr("data-clipboard-text",i.data.url),new Clipboard("#"+i.data.hash).on("success",function(i){showAlert("success","地址复制成功!"),i.clearSelection()})},error:function(i){var e=i.find(".jFiler-jProgressBar").parent();i.find(".jFiler-jProgressBar").fadeOut("slow",function(){$('<div class="jFiler-item-others text-error"><i class="icon-jfi-minus-circle"></i> Error</div>').hide().appendTo(e).fadeIn("slow")})},statusCode:{},onProgress:function(){}},dragDrop:{dragEnter:function(){},dragLeave:function(){},drop:function(){}},addMore:!0,clipBoardPaste:!0,excludeName:null,beforeShow:function(){return!0},onSelect:function(){},afterShow:function(){},onRemove:function(){},onEmpty:function(){},captions:{button:"选择文件",feedback:"选中文件上传",feedback2:"文件已经被选中",drop:"拖放文件或者点击上传",removeConfirmation:"确定要删除此文件吗?",errors:{filesLimit:"最多一次能上传 {{fi-limit}} 个文件.",filesType:"文件类型不合法，支持的类型如下jpg、jpeg、png、gif、txt、json、js、yml、css、html、xlsx、csv",filesSize:"{{fi-name}} 文件太大! 最大上传大小为 {{fi-maxSize}} MB.",filesSizeAll:"你选择的文件太大! 最大上传大小为 {{fi-maxSize}} MB."}}})});
